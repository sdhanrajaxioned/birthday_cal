let jsonData=[],birthDates=[],days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];const yearField=document.getElementById("year-field"),updateBtn=document.getElementById("update-btn"),listItems=document.querySelectorAll(".day"),birthDayDiv=document.querySelectorAll(".birthDays"),birthDaysTextArea=document.getElementById("birth-dates-textarea");birthDayDiv.forEach((e=>e.innerHTML=""));const getData=()=>{fetch("assets/json/got-characters-birthday.json").then((e=>e.json())).then((e=>e.filter((e=>jsonData.push(e)))))};function createPersonObj(){let e=[];jsonData.forEach((t=>{let a=t.name.match(/\b(\w)/g).join(""),n=t.birthday.slice(0,6)+userInput,r=new Date(n),s={name:a,birthDay:days[r.getDay()].substring(0,3)};e.push(s)})),displayBirthdays(e)}fetch("assets/json/got-characters-birthday.json").then((e=>e.json())).then((e=>e.filter((e=>jsonData.push(e)))));const displayBirthdays=e=>{birthDayDiv.innerHTML="",e.forEach((e=>{let t=Math.floor(16777215*Math.random()).toString(16),a=e.birthDay.toLowerCase();listItems.forEach((function(n){if(birthDayDiv.innerHTML="",n.id.toLocaleLowerCase()===a){let a=document.createElement("span"),r=n.querySelector(".birthDays");a.style.backgroundColor=`#${t}`,a.innerHTML=e.name,r.appendChild(a)}}))}))};updateBtn.addEventListener("click",(e=>{e.preventDefault(),userInput=yearField.value,createPersonObj()}));